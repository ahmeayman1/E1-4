const questions = [

/* ========== MCQ ========== */

{
  type: "mcq",
  q: "If an organization possesses all necessary resources but lacks management, what is the most probable direct outcome?",
  options: [
    "Increased employee innovation",
    "Efficient self-organization by teams",
    "Wastage of resources and confusion",
    "Accelerated achievement of objectives"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Koontz and O'Donnell's assertion that management is the most critical area of human activity is fundamentally because its core task is:",
  options: [
    "Controlling financial expenditures",
    "Developing new technologies",
    "Getting things done through others",
    "Establishing legal and ethical standards"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The definition of management as 'the process of using what you have to achieve a goal' most succinctly encapsulates the interplay between:",
  options: [
    "Planning and controlling",
    "Leadership and motivation",
    "Resources and objectives",
    "Authority and accountability"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Which of the following is explicitly listed as a distinct category of organizational resources?",
  options: ["Market Reputation", "Brand Equity", "Energy", "Customer Loyalty"],
  a: 2
},
{
  type: "mcq",
  q: "The importance of management in 'Adaptation to Change' enables organizations to respond to challenges within what type of environment?",
  options: [
    "Stable and predictable",
    "Static and controlled",
    "Dynamic and evolving",
    "Isolated and independent"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Management is both an art and a science. Its classification as a science is primarily justified by:",
  options: [
    "The need for personal creativity in decision-making",
    "The requirement of skills that are personal possessions",
    "The existence of an organized body of knowledge",
    "The focus on applying experience in unique situations"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Within the Levels of Management hierarchy, the Nursing Supervisor is positioned at which level?",
  options: [
    "Top Management Level",
    "Middle Management Level",
    "Lower Management Level",
    "Operational Level"
  ],
  a: 1
},
{
  type: "mcq",
  q: "The primary responsibility of the Top Management Level includes:",
  options: [
    "Directing and controlling daily tasks",
    "Delegating tasks and monitoring lower-level employees",
    "Setting organizational policies and preparing departmental budgets",
    "Achieving specific daily tasks assigned by middle management"
  ],
  a: 2
},
{
  type: "mcq",
  q: "According to George Terry's definition, the management process is a series of:",
  options: [
    "Planning, Motivating, Staffing, Controlling, Reviewing",
    "Organizing, Directing, Budgeting, Reporting, Coordinating",
    "Planning, Organizing, Staffing, Directing, Controlling",
    "Forecasting, Commanding, Coordinating, Staffing, Evaluating"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Deciding in advance what is to be done in the future refers to:",
  options: ["Organizing", "Controlling", "Planning", "Directing"],
  a: 2
},
{
  type: "mcq",
  q: "The staffing function is best defined as:",
  options: [
    "Giving instructions and guiding staff",
    "Identifying work and classifying activities",
    "Matching jobs with individuals for the right fit",
    "Monitoring performance against standards"
  ],
  a: 2
},
{
  type: "mcq",
  q: "The controlling function involves:",
  options: [
    "Assignment of responsibilities",
    "Monitoring performance and taking corrective action",
    "Creating a single plan of action",
    "Formulating objectives and policies"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Which skill is most important for top-level managers?",
  options: ["Human skills", "Technical skills", "Conceptual skills", "Clinical skills"],
  a: 2
},
{
  type: "mcq",
  q: "Technical skills are most important at which level of management?",
  options: [
    "Top management",
    "Middle management",
    "Lower management",
    "All levels equally"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Human skills are described as:",
  options: [
    "Only important for middle managers",
    "Most critical for lower-level supervisors",
    "Equally important at all levels",
    "Only needed by non-managers"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Paralysis by analysis refers to failure in:",
  options: [
    "Resource allocation",
    "Communication flow",
    "Decision-making speed",
    "Talent development"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Every employee receiving orders from only one superior refers to:",
  options: [
    "Unity of direction",
    "Unity of command",
    "Scalar chain",
    "Centralization"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Subordination of individual interest to general interest means:",
  options: [
    "Individual rewards come first",
    "Group effort is essential",
    "Authority must equal responsibility",
    "Specialization increases output"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Remuneration should be based on:",
  options: [
    "Seniority",
    "Job difficulty",
    "Supervisor discretion",
    "Profitability"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Stability of tenure primarily leads to:",
  options: [
    "Centralization",
    "High turnover",
    "Higher productivity",
    "Strict authority"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Planning is the first function because:",
  options: [
    "It consumes most time",
    "Other functions depend on it",
    "Only top managers plan",
    "It handles daily operations"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Planning bridges the gap between:",
  options: [
    "Past and present",
    "Present and future",
    "Goals and control",
    "Authority and responsibility"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Planning is pervasive because it:",
  options: [
    "Is limited to top management",
    "Is needed at all levels",
    "Is a one-time activity",
    "Is informal only"
  ],
  a: 1
},
{
  type: "mcq",
  q: "A vision statement describes:",
  options: [
    "Specific targets",
    "Why the organization exists",
    "Future aspirations",
    "Step-by-step actions"
  ],
  a: 2
},
{
  type: "mcq",
  q: "An objective is:",
  options: [
    "Philosophical",
    "Specific and measurable",
    "A guideline",
    "A value statement"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Policies are:",
  options: [
    "Step-by-step actions",
    "Strict rules",
    "General decision guidelines",
    "Dream statements"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Strategic plans are:",
  options: [
    "Short-term",
    "Operational",
    "Long-term and organization-wide",
    "Rigid with no flexibility"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Directional plans are best when:",
  options: [
    "Uncertainty is high",
    "Tasks are routine",
    "No discretion exists",
    "Environment is stable"
  ],
  a: 0
},
{
  type: "mcq",
  q: "Reluctance to change refers to:",
  options: [
    "Forecasting errors",
    "Planning costs",
    "Psychological resistance",
    "Legal restrictions"
  ],
  a: 2
},
{
  type: "mcq",
  q: "A way to overcome planning limitations is:",
  options: [
    "Rigid plans",
    "Exclude employees",
    "Top management support",
    "Less planning"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Organizing results in:",
  options: [
    "Budgets",
    "Performance reports",
    "Organization structure",
    "Marketing plans"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Efficient use of resources prevents:",
  options: [
    "Low morale",
    "Wastage",
    "Poor communication",
    "Lack of goals"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Unity of command reduces:",
  options: [
    "Specialization",
    "Confusion of orders",
    "Span of control",
    "Centralization"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Span of control increases when employees are:",
  options: [
    "Complex",
    "Untrained",
    "Specialized",
    "Highly trained"
  ],
  a: 3
},
{
  type: "mcq",
  q: "Formal organization is:",
  options: [
    "Social",
    "Chart-based and rule-governed",
    "Leaderless",
    "Temporary"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Informal organization arises from:",
  options: [
    "Official design",
    "Natural social interaction",
    "Authority lines",
    "Written policies"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Formal organization is:",
  options: [
    "Unstable",
    "Naturally created",
    "Informally led",
    "Permanent and management-created"
  ],
  a: 3
},
{
  type: "mcq",
  q: "Organization charts do NOT show:",
  options: [
    "Communication channels",
    "Friendships",
    "Span of control",
    "Levels of supervision"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Authority means:",
  options: [
    "Duty",
    "Moral obligation",
    "Official power",
    "Reporting"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Functional organization charts:",
  options: [
    "Show divisions only",
    "List duties inside boxes",
    "List job numbers",
    "Show whole organization"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Job descriptions are NOT used for:",
  options: [
    "Salary increase only",
    "Recruitment",
    "Orientation",
    "Evaluation"
  ],
  a: 0
},
{
  type: "mcq",
  q: "Staffing aims to:",
  options: [
    "Cut costs",
    "Provide adequate patient care",
    "Equal shifts",
    "Hire only graduates"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Traditional staffing is based on:",
  options: [
    "Patient classification",
    "Manager opinion",
    "Task analysis",
    "Government ratios"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Patient classification focuses on:",
  options: [
    "Staff seniority",
    "Tasks",
    "Patient acuity",
    "Budget"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Task quantification differentiates:",
  options: [
    "Nurses",
    "Direct and indirect care",
    "Shifts",
    "Plans"
  ],
  a: 1
},
{
  type: "mcq",
  q: "First step in staffing is:",
  options: ["Interview", "Recruitment", "Socialization", "Application"],
  a: 1
},
{
  type: "mcq",
  q: "Word-of-mouth recruitment may:",
  options: [
    "Be costly",
    "Encourage nepotism",
    "Reach few candidates",
    "Lack planning"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Recruiter’s main role is:",
  options: [
    "Clinical care",
    "Determine staffing needs",
    "Set vision",
    "Negotiate unions"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Selection means:",
  options: [
    "Seeking applicants",
    "Steps from screening to hiring",
    "Orientation",
    "Scheduling"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Interviewers do NOT assess:",
  options: [
    "Dependability",
    "Credit history",
    "Job interest",
    "Job fit"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Structured interviews:",
  options: [
    "Need less planning",
    "Use pre-set questions",
    "Are informal",
    "Only for executives"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Socialization involves:",
  options: [
    "Background checks",
    "Orientation to culture",
    "Salary negotiation",
    "Testing"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Scheduling aims to:",
  options: [
    "Avoid over/under staffing",
    "Maximize overtime",
    "Identical schedules",
    "Centralize control"
  ],
  a: 0
},
{
  type: "mcq",
  q: "Day off before and after night duty ensures:",
  options: [
    "Fewer nights",
    "Proper rest",
    "Budget balance",
    "Union compliance"
  ],
  a: 1
},
{
  type: "mcq",
  q: "Decentralized scheduling is done by:",
  options: [
    "Central office",
    "Board",
    "Head nurse",
    "Software"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Lack of management despite resources leads to:",
  options: [
    "Capital shortage",
    "Technology issues",
    "Failure",
    "Weak vision"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Authority flows:",
  options: [
    "Laterally",
    "Upward",
    "Outward",
    "Downward"
  ],
  a: 3
},
{
  type: "mcq",
  q: "Directing involves:",
  options: [
    "Planning",
    "Organizing",
    "Leading and motivating",
    "Controlling"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Toxic culture undermines:",
  options: [
    "Division of work",
    "Discipline",
    "Esprit de corps",
    "Centralization"
  ],
  a: 2
},
{
  type: "mcq",
  q: "Initiative encourages employees to:",
  options: [
    "Follow orders only",
    "Propose new ideas",
    "Ignore goals",
    "Centralize decisions"
  ],
  a: 1
},

/* ========== TRUE / FALSE ========== */

{ type: "tf", q: "Management is essential even when all resources are available.", a: true },
{ type: "tf", q: "Management is concerned only with planning and not execution.", a: false },
{ type: "tf", q: "Management aims to achieve goals through people.", a: true },
{ type: "tf", q: "Energy is not considered an organizational resource.", a: false },
{ type: "tf", q: "Management helps organizations adapt to a dynamic environment.", a: true },

{ type: "tf", q: "Management is considered a science because it is based only on experience.", a: false },
{ type: "tf", q: "Conceptual skills are most important for top-level managers.", a: true },
{ type: "tf", q: "Technical skills are least important for lower-level managers.", a: false },
{ type: "tf", q: "Human skills are important at all levels of management.", a: true },
{ type: "tf", q: "Paralysis by analysis refers to making decisions too quickly.", a: false },

{ type: "tf", q: "Unity of Command means employees receive orders from one superior only.", a: true },
{ type: "tf", q: "Stability of tenure increases employee turnover.", a: false },
{ type: "tf", q: "Planning is the first function of management.", a: true },
{ type: "tf", q: "Planning is required only at top management level.", a: false },
{ type: "tf", q: "Objectives are more specific than goals.", a: true },

{ type: "tf", q: "Policies provide general guidelines for decision making.", a: true },
{ type: "tf", q: "Strategic plans focus on short-term activities.", a: false },
{ type: "tf", q: "Organizing results in an organizational structure.", a: true },
{ type: "tf", q: "Informal organizations are created by top management.", a: false },
{ type: "tf", q: "Socialization helps new employees adapt to organizational culture.", a: true }

];

console.log(questions.length); 
let index = 0;
let answers = Array(questions.length).fill(null);
let reviewMode = false;
let shuffledQuestions = [];
/* ========= ELEMENTS ========= */

const qText = document.getElementById("questionText");
const optionsDiv = document.getElementById("options");
const counter = document.getElementById("counter");
const progress = document.getElementById("progressBar");
const nextBtn = document.getElementById("nextBtn");
const resultBox = document.getElementById("result");
const resultScore = document.getElementById("resultScore");
const resultPercent = document.getElementById("resultPercent");
/* ========= OPTIONS ========= */
function shuffleOptions(arr) {
  const array = [...arr];
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
function createOption(text, isCorrect) {
  const b = document.createElement("button");
  b.innerText = text;
  b.onclick = () => select(isCorrect, b);
  optionsDiv.appendChild(b);
}
function select(isCorrect, btn) {
  if (answers[index] !== null) return;

  answers[index] = isCorrect;

  const q = shuffledQuestions[index];

  [...optionsDiv.children].forEach(b => {
    b.disabled = true;

    // لو MCQ
    if (q.type === "mcq") {
      const correctText = q.options[q.a];

      if (b.innerText === correctText) {
        b.style.background = "#27ae60"; // الصح أخضر
      } else if (b === btn) {
        b.style.background = "#e74c3c"; // الغلط أحمر
      }
    }

    // لو True / False
    if (q.type === "tf") {
      if (
        (b.innerText === "True" && q.a === true) ||
        (b.innerText === "False" && q.a === false)
      ) {
        b.style.background = "#27ae60";
      } else if (b === btn) {
        b.style.background = "#e74c3c";
      }
    }
  });

  nextBtn.style.display = "inline-block";
}
function startQuiz() {
  index = 0;
  answers = Array(questions.length).fill(null);
  reviewMode = false;

  // ✅ اعمل نسخة بدل ما تغيّر الأصل
  shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
document.getElementById("questionsBtn").innerText =
  `Questions (${shuffledQuestions.length})`;
  document.getElementById("result").classList.remove("show");
  document.getElementById("home").style.display = "none";
  document.getElementById("quiz").style.display = "block";

  loadQuestion();
}
function loadQuestion() {
  optionsDiv.innerHTML = "";
  nextBtn.style.display = "none";

  const q = shuffledQuestions[index];
  qText.innerText = q.q;
  counter.innerText = `Question ${index + 1} / ${shuffledQuestions.length}`;
  progress.style.width = ((index + 1) / shuffledQuestions.length) * 100 + "%";

  if (q.type === "tf") {
    createOption("True", q.a === true);
createOption("False", q.a === false);
  } else {
    const options = q.options.map((text, i) => ({
  text,
  correct: i === q.a
}));

shuffleOptions(options).forEach(opt => {
  createOption(opt.text, opt.correct);
});
  }
}

function nextQuestion() {
  if (index < questions.length - 1) {
    index++;
    loadQuestion();
  } else {
    finishQuiz();
  }
}

function finishQuiz() {
  const score = answers.filter(a => a === true).length;
  const percent = Math.round((score / questions.length) * 100);

  // اخفي الكويز
  document.getElementById("quiz").style.display = "none";

  // النصوص
  resultScore.innerText = `Score: ${score} / ${questions.length}`;
  resultPercent.innerText = `Percentage: ${percent}%`;

  let title = "";
  if (percent >= 85) {
    title = "اول دفعععهه يعمممم";
  } else if (percent >= 70) {
    title = "شد شويه يعممم";
  } else {
    title = "انت اخرك تخش كليه البهاييييمممم";
  }

  document.getElementById("resultTitle").innerText = title;

  // أظهر النتيجة بالأنيميشن
  resultBox.classList.add("show");
}
function restartQuiz() {
  document.getElementById("result").classList.remove("show");
  startQuiz();
}
function toggleQuestions() {
  const list = document.getElementById("questionsList");
  list.classList.toggle("show");
  renderQuestionsList();
}

function renderQuestionsList() {
  const list = document.getElementById("questionsList");
  list.innerHTML = "";

  shuffledQuestions.forEach((q, i) => {
    const b = document.createElement("button");
    b.innerText = i + 1;

    if (answers[i] === null) {
      b.className = "q-unanswered";
    } else if (answers[i] === true) {
      b.className = "q-correct";
    } else {
      b.className = "q-wrong";
    }

    if (i === index) {
      b.style.outline = "3px solid #3498db";
    }

    b.onclick = () => {
      index = i;
      loadQuestion();
      renderQuestionsList();
    };

    list.appendChild(b);
  });
}
/* ========= MENU ========= */

const sideMenu = document.getElementById("sideMenu");
const overlay = document.getElementById("overlay");

function toggleMenu() {
  sideMenu.classList.toggle("show");
  overlay.classList.toggle("show");
}

function closeMenu() {
  sideMenu.classList.remove("show");
  overlay.classList.remove("show");
}

/* ========= DARK MODE ========= */

function toggleDark() {
  document.body.classList.toggle("dark");
}
